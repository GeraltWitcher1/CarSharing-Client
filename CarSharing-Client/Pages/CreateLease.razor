@page "/create-lease/"
@using Microsoft.AspNetCore.WebUtilities

@inject NavigationManager NavMgr

<h3>CreateLease</h3>


 <div class="form-row">
        <div class="form-group col-md-5">
            <label>Date from: @DateFrom </label>
            <p> class="form-control" placeholder="@DateTime.UtcNow" </p>
        </div>
        <div class="form-group col-md-5">
            <label >Date to</label>
           
        </div>
    </div>

    <div class="form-row">
        <div class="form-group col-md-5">
            <label >Price</label>
          
        </div>

        <div class="form-group col-md-5">
            <label >Location</label>
           
        </div>

    </div>

    <div class="col-4 ml-2 mt-4">
        <p class="actions">
            <button class="btn btn-outline-dark " type="submit">Lease vehicle</button>
            <button class="btn btn-danger" type="button" >Cancel</button>
        </p>
    </div>





@code
{
    [Parameter]
    public int listingId { get; set; }
    [Parameter]
    public DateTime DateFrom { get; set; }
    [Parameter]
    public DateTime DateTo { get; set; }

    Uri uri;
    
    protected override async Task OnInitializedAsync()
    {
        uri = NavMgr.ToAbsoluteUri(NavMgr.Uri);

        if (QueryHelpers.ParseQuery(uri.Query).TryGetValue("listingId", out var lId))
        {
            listingId = int.Parse(lId);
        }
        
        if (QueryHelpers.ParseQuery(uri.Query).TryGetValue("DateFrom", out var dFrom))
        {
            DateFrom = DateTime.Parse(dFrom);
        }
        
        if (QueryHelpers.ParseQuery(uri.Query).TryGetValue("DateTo", out var dTo))
        {
            DateTo = DateTime.Parse(dTo);
        }
    }
    
}


}
